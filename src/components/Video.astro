---
import type { HTMLAttributes } from "astro/types";

interface Props extends HTMLAttributes<"video"> {
  class: string;
  media: Promise<{ default: string }> | string;
}

let { media, ...props } = Astro.props;
media = typeof media === "string" ? media : (await media).default;
// TODO Handle client:visible
---

<video {...props}>
  <source src={media} type="video/mp4" />
</video>
