---
import { twMerge } from "tailwind-merge";
import VideoClient from "./Video.tsx";
interface Props extends React.MediaHTMLAttributes<HTMLVideoElement> {
  class: string;
  media: Promise<{ default: string }> | string;
  loading?: "lazy" | "eager";
  autoplay?: boolean;
}

let { media, class: className, autoplay, ...props } = Astro.props;
media = typeof media === "string" ? media : (await media).default;
// TODO Handle client:visible
---

<VideoClient
  media={media}
  className={twMerge("m-0", className)}
  {...props}
  client:visible={{ rootMargin: "300px" }}
/>
